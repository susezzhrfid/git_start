#include "Lcd.h"
#include "Gpio.h"
#include "Sysarch.h"
#include "string.h"
#include "FaCfg.h"
#include <math.h>
#include <stdarg.h>

#ifdef EN_LCD

#define PIN_LCD_CS            {PIO_PC24, PIOC, ID_PIOC, PIO_OUTPUT_1, PIO_PULLUP}
#define PIN_LCD_RES           {PIO_PC23, PIOC, ID_PIOC, PIO_OUTPUT_1, PIO_DEFAULT}
#define PIN_LCD_A0            {PIO_PC25, PIOC, ID_PIOC, PIO_OUTPUT_1, PIO_PULLUP}
#define PIN_LCD_SCK           {PIO_PC26, PIOC, ID_PIOC, PIO_OUTPUT_1, PIO_DEFAULT}
#define PIN_LCD_SI            {PIO_PC27, PIOC, ID_PIOC, PIO_OUTPUT_1, PIO_DEFAULT}

static const Pin PinLcdCs = PIN_LCD_CS;
static const Pin PinLcdRes = PIN_LCD_RES;
static const Pin PinLcdA0 = PIN_LCD_A0;
static const Pin PinLcdSck = PIN_LCD_SCK;
static const Pin PinLcdSi = PIN_LCD_SI;

const BYTE  g_bVOP[2] ={0x16, 18};

TLcd g_tLcd;

TSem g_semLcd;

//阴码，列行式，逆向

const unsigned char	table1[]=
{
/*--  调入了一幅图像：C:\Documents and Settings\Administrator\桌面\TG13264-COG1(ST7565R按键调对比度C语言测试程序)\12864.bmp  --*/
/*--  宽度x高度=128x64  --*/
0x01,0x01,0x03,0x02,0x06,0x0C,0x08,0x08,0x18,0x10,0x30,0x20,0x20,0x40,0x40,0x80,
0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x80,0x80,0x80,0x40,0x20,0x20,0x30,0x10,0x08,0x08,0x04,0x04,0x06,0x03,0x01,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x01,0x01,0x01,0x03,0x02,0x06,0x04,0x0C,0x08,0x08,0x18,0x30,0x20,0x60,0xC0,0x80,
0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x80,0x80,0x40,0x60,0x20,0x20,0x10,0x10,0x08,0x0C,0x04,0x04,0x06,0x02,0x03,
0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x01,0x01,0x01,0x02,0x02,0x06,0x04,0x04,0x0C,0x08,0x18,0x10,0x20,0x60,0xC0,0x80,
0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x80,0x80,0x80,0x80,0x40,0x40,0x20,0x20,0x30,0x10,0x18,0x08,0x0C,0x02,0x03,
0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x01,0x01,0x03,0x02,0x06,0x04,0x0C,0x08,0x18,0x10,0x30,0x60,0x40,0xC0,0x80,0x00,
0x00,0x80,0xC0,0x60,0x20,0x10,0x10,0x08,0x0C,0x04,0x06,0x02,0x02,0x03,0x01,0x01,
0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x80,0xC0,
0x40,0x40,0x40,0x40,0x40,0x20,0x20,0x20,0x30,0x10,0x10,0x08,0x08,0x04,0x07,0x03,
0x03,0x07,0x04,0x0C,0x08,0x08,0x18,0x10,0x10,0x30,0x20,0x60,0xC0,0x80,0x80,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x80,
0xC0,0x40,0x60,0x20,0x30,0x18,0x0E,0x02,0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,
0x01,0x02,0x02,0x06,0x04,0x04,0x04,0x0C,0x18,0x10,0x30,0x20,0x60,0x40,0xC0,0x80,
0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xC0,0x40,0x40,0x40,0x40,
0x20,0x20,0x20,0x20,0x10,0x10,0x10,0x18,0x08,0x08,0x04,0x06,0x03,0x01,0x01,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x01,0x01,0x03,0x02,0x06,0x0C,0x08,0x18,0x10,0x30,0x20,0x60,0x40,0xC0,0x80,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x40,0x40,0x60,0x20,0x20,0x30,0x18,0x0C,0x06,0x01,0x01,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,
0x03,0x06,0x04,0x08,0x18,0x10,0x30,0x60,0x40,0x40,0x80,0x80,0x80,0x80,0x80,0x80,/*"未命名文件",0*/
/* (128 X 64 )*/
};

const unsigned char hzNULL[] =				//空
{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
};

const unsigned char hzFULL[] =              //for test
{
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF, 
};

//字符，英文字母，阿拉伯数字库
const unsigned char chr[] =
{
/*--  文字:     --*///空格
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,/*" ",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  !  --*/
0x00,0x00,0x00,0xF8,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x33,0x30,0x00,0x00,0x00,/*"!",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  "  --*/
0x00,0x10,0x0C,0x06,0x10,0x0C,0x06,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,/*""",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  #  --*/
0x40,0xC0,0x78,0x40,0xC0,0x78,0x40,0x00,0x04,0x3F,0x04,0x04,0x3F,0x04,0x04,0x00,/*"#",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  $  --*/
0x00,0x70,0x88,0xFC,0x08,0x30,0x00,0x00,0x00,0x18,0x20,0xFF,0x21,0x1E,0x00,0x00,/*"$",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  %  --*/
0xF0,0x08,0xF0,0x00,0xE0,0x18,0x00,0x00,0x00,0x21,0x1C,0x03,0x1E,0x21,0x1E,0x00,/*"%",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  &  --*/
0x00,0xF0,0x08,0x88,0x70,0x00,0x00,0x00,0x1E,0x21,0x23,0x24,0x19,0x27,0x21,0x10,/*"&",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  '  --*/
0x10,0x16,0x0E,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,/*"'",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  (  --*/
0x00,0x00,0x00,0xE0,0x18,0x04,0x02,0x00,0x00,0x00,0x00,0x07,0x18,0x20,0x40,0x00,/*"(",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  )  --*/
0x00,0x02,0x04,0x18,0xE0,0x00,0x00,0x00,0x00,0x40,0x20,0x18,0x07,0x00,0x00,0x00,/*")",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  *  --*/
0x40,0x40,0x80,0xF0,0x80,0x40,0x40,0x00,0x02,0x02,0x01,0x0F,0x01,0x02,0x02,0x00,/*"*",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  +  --*/
0x00,0x00,0x00,0xF0,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x1F,0x01,0x01,0x01,0x00,/*"+",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  ,  --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xB0,0x70,0x00,0x00,0x00,0x00,0x00,/*",",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  -  --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x01,/*"-",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  .  --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x30,0x30,0x00,0x00,0x00,0x00,0x00,/*".",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  /  --*/
0x00,0x00,0x00,0x00,0x80,0x60,0x18,0x04,0x00,0x60,0x18,0x06,0x01,0x00,0x00,0x00,/*"/",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  0  --*/
0x00,0xE0,0x10,0x08,0x08,0x10,0xE0,0x00,0x00,0x0F,0x10,0x20,0x20,0x10,0x0F,0x00,/*"0",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  1  --*/
0x00,0x10,0x10,0xF8,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,/*"1",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  2  --*/
0x00,0x70,0x08,0x08,0x08,0x88,0x70,0x00,0x00,0x30,0x28,0x24,0x22,0x21,0x30,0x00,/*"2",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  3  --*/
0x00,0x30,0x08,0x88,0x88,0x48,0x30,0x00,0x00,0x18,0x20,0x20,0x20,0x11,0x0E,0x00,/*"3",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  4  --*/
0x00,0x00,0xC0,0x20,0x10,0xF8,0x00,0x00,0x00,0x07,0x04,0x24,0x24,0x3F,0x24,0x00,/*"4",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  5  --*/
0x00,0xF8,0x08,0x88,0x88,0x08,0x08,0x00,0x00,0x19,0x21,0x20,0x20,0x11,0x0E,0x00,/*"5",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  6  --*/
0x00,0xE0,0x10,0x88,0x88,0x18,0x00,0x00,0x00,0x0F,0x11,0x20,0x20,0x11,0x0E,0x00,/*"6",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  7  --*/
0x00,0x38,0x08,0x08,0xC8,0x38,0x08,0x00,0x00,0x00,0x00,0x3F,0x00,0x00,0x00,0x00,/*"7",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  8  --*/
0x00,0x70,0x88,0x08,0x08,0x88,0x70,0x00,0x00,0x1C,0x22,0x21,0x21,0x22,0x1C,0x00,/*"8",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  9  --*/
0x00,0xE0,0x10,0x08,0x08,0x10,0xE0,0x00,0x00,0x00,0x31,0x22,0x22,0x11,0x0F,0x00,/*"9",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  :  --*/
0x00,0x00,0x00,0xC0,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x30,0x30,0x00,0x00,0x00,/*":",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  ;  --*/
0x00,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x60,0x00,0x00,0x00,0x00,/*";",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  <  --*/
0x00,0x00,0x80,0x40,0x20,0x10,0x08,0x00,0x00,0x01,0x02,0x04,0x08,0x10,0x20,0x00,/*"<",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  =  --*/
0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x00,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x00,/*"=",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  >  --*/
0x00,0x08,0x10,0x20,0x40,0x80,0x00,0x00,0x00,0x20,0x10,0x08,0x04,0x02,0x01,0x00,/*">",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  ?  --*/
0x00,0x70,0x48,0x08,0x08,0x08,0xF0,0x00,0x00,0x00,0x00,0x30,0x36,0x01,0x00,0x00,/*"?",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  @  --*/
0xC0,0x30,0xC8,0x28,0xE8,0x10,0xE0,0x00,0x07,0x18,0x27,0x24,0x23,0x14,0x0B,0x00,/*"@",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  A  --*/
0x00,0x00,0xC0,0x38,0xE0,0x00,0x00,0x00,0x20,0x3C,0x23,0x02,0x02,0x27,0x38,0x20,/*"A",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  B  --*/
0x08,0xF8,0x88,0x88,0x88,0x70,0x00,0x00,0x20,0x3F,0x20,0x20,0x20,0x11,0x0E,0x00,/*"B",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  C  --*/
0xC0,0x30,0x08,0x08,0x08,0x08,0x38,0x00,0x07,0x18,0x20,0x20,0x20,0x10,0x08,0x00,/*"C",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  D  --*/
0x08,0xF8,0x08,0x08,0x08,0x10,0xE0,0x00,0x20,0x3F,0x20,0x20,0x20,0x10,0x0F,0x00,/*"D",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  E  --*/
0x08,0xF8,0x88,0x88,0xE8,0x08,0x10,0x00,0x20,0x3F,0x20,0x20,0x23,0x20,0x18,0x00,/*"E",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  F  --*/
0x08,0xF8,0x88,0x88,0xE8,0x08,0x10,0x00,0x20,0x3F,0x20,0x00,0x03,0x00,0x00,0x00,/*"F",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  G  --*/
0xC0,0x30,0x08,0x08,0x08,0x38,0x00,0x00,0x07,0x18,0x20,0x20,0x22,0x1E,0x02,0x00,/*"G",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  H  --*/
0x08,0xF8,0x08,0x00,0x00,0x08,0xF8,0x08,0x20,0x3F,0x21,0x01,0x01,0x21,0x3F,0x20,/*"H",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  I  --*/
0x00,0x08,0x08,0xF8,0x08,0x08,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,/*"I",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  J  --*/
0x00,0x00,0x08,0x08,0xF8,0x08,0x08,0x00,0xC0,0x80,0x80,0x80,0x7F,0x00,0x00,0x00,/*"J",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  K  --*/
0x08,0xF8,0x88,0xC0,0x28,0x18,0x08,0x00,0x20,0x3F,0x20,0x01,0x26,0x38,0x20,0x00,/*"K",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  L  --*/
0x08,0xF8,0x08,0x00,0x00,0x00,0x00,0x00,0x20,0x3F,0x20,0x20,0x20,0x20,0x30,0x00,/*"L",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  M  --*/
0x08,0xF8,0xF8,0x00,0xF8,0xF8,0x08,0x00,0x20,0x3F,0x00,0x3F,0x00,0x3F,0x20,0x00,/*"M",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  N  --*/
0x08,0xF8,0x30,0xC0,0x00,0x08,0xF8,0x08,0x20,0x3F,0x20,0x00,0x07,0x18,0x3F,0x00,/*"N",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  O  --*/
0xE0,0x10,0x08,0x08,0x08,0x10,0xE0,0x00,0x0F,0x10,0x20,0x20,0x20,0x10,0x0F,0x00,/*"O",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  P  --*/
0x08,0xF8,0x08,0x08,0x08,0x08,0xF0,0x00,0x20,0x3F,0x21,0x01,0x01,0x01,0x00,0x00,/*"P",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  Q  --*/
0xE0,0x10,0x08,0x08,0x08,0x10,0xE0,0x00,0x0F,0x18,0x24,0x24,0x38,0x50,0x4F,0x00,/*"Q",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  R  --*/
0x08,0xF8,0x88,0x88,0x88,0x88,0x70,0x00,0x20,0x3F,0x20,0x00,0x03,0x0C,0x30,0x20,/*"R",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  S  --*/
0x00,0x70,0x88,0x08,0x08,0x08,0x38,0x00,0x00,0x38,0x20,0x21,0x21,0x22,0x1C,0x00,/*"S",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  T  --*/
0x18,0x08,0x08,0xF8,0x08,0x08,0x18,0x00,0x00,0x00,0x20,0x3F,0x20,0x00,0x00,0x00,/*"T",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  U  --*/
0x08,0xF8,0x08,0x00,0x00,0x08,0xF8,0x08,0x00,0x1F,0x20,0x20,0x20,0x20,0x1F,0x00,/*"U",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  V  --*/
0x08,0x78,0x88,0x00,0x00,0xC8,0x38,0x08,0x00,0x00,0x07,0x38,0x0E,0x01,0x00,0x00,/*"V",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  W  --*/
0xF8,0x08,0x00,0xF8,0x00,0x08,0xF8,0x00,0x03,0x3C,0x07,0x00,0x07,0x3C,0x03,0x00,/*"W",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  X  --*/
0x08,0x18,0x68,0x80,0x80,0x68,0x18,0x08,0x20,0x30,0x2C,0x03,0x03,0x2C,0x30,0x20,/*"X",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  Y  --*/
0x08,0x38,0xC8,0x00,0xC8,0x38,0x08,0x00,0x00,0x00,0x20,0x3F,0x20,0x00,0x00,0x00,/*"Y",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  Z  --*/
0x10,0x08,0x08,0x08,0xC8,0x38,0x08,0x00,0x20,0x38,0x26,0x21,0x20,0x20,0x18,0x00,/*"Z",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  [  --*/
0x00,0x00,0x00,0xFE,0x02,0x02,0x02,0x00,0x00,0x00,0x00,0x7F,0x40,0x40,0x40,0x00,/*"[",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  \  --*/
0x00,0x0C,0x30,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x06,0x38,0xC0,0x00,/*"\",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  ]  --*/
0x00,0x02,0x02,0x02,0xFE,0x00,0x00,0x00,0x00,0x40,0x40,0x40,0x7F,0x00,0x00,0x00,/*"]",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  ^  --*/
0x00,0x00,0x04,0x02,0x02,0x02,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,/*"^",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  _  --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,/*"_",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  `  --*/
0x00,0x02,0x02,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,/*"`",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  a  --*/
0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x19,0x24,0x22,0x22,0x22,0x3F,0x20,/*"a",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  b  --*/
0x08,0xF8,0x00,0x80,0x80,0x00,0x00,0x00,0x00,0x3F,0x11,0x20,0x20,0x11,0x0E,0x00,/*"b",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  c  --*/
0x00,0x00,0x00,0x80,0x80,0x80,0x00,0x00,0x00,0x0E,0x11,0x20,0x20,0x20,0x11,0x00,/*"c",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  d  --*/
0x00,0x00,0x00,0x80,0x80,0x88,0xF8,0x00,0x00,0x0E,0x11,0x20,0x20,0x10,0x3F,0x20,/*"d",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  e  --*/
0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x1F,0x22,0x22,0x22,0x22,0x13,0x00,/*"e",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  f  --*/
0x00,0x80,0x80,0xF0,0x88,0x88,0x88,0x18,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,/*"f",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  g  --*/
0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x6B,0x94,0x94,0x94,0x93,0x60,0x00,/*"g",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  h  --*/
0x08,0xF8,0x00,0x80,0x80,0x80,0x00,0x00,0x20,0x3F,0x21,0x00,0x00,0x20,0x3F,0x20,/*"h",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  i  --*/
0x00,0x80,0x98,0x98,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,/*"i",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  j  --*/
0x00,0x00,0x00,0x80,0x98,0x98,0x00,0x00,0x00,0xC0,0x80,0x80,0x80,0x7F,0x00,0x00,/*"j",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  k  --*/
0x08,0xF8,0x00,0x00,0x80,0x80,0x80,0x00,0x20,0x3F,0x24,0x02,0x2D,0x30,0x20,0x00,/*"k",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  l  --*/
0x00,0x08,0x08,0xF8,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,/*"l",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  m  --*/
0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x00,0x20,0x3F,0x20,0x00,0x3F,0x20,0x00,0x3F,/*"m",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  n  --*/
0x80,0x80,0x00,0x80,0x80,0x80,0x00,0x00,0x20,0x3F,0x21,0x00,0x00,0x20,0x3F,0x20,/*"n",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  o  --*/
0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x1F,0x20,0x20,0x20,0x20,0x1F,0x00,/*"o",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  p  --*/
0x80,0x80,0x00,0x80,0x80,0x00,0x00,0x00,0x80,0xFF,0xA1,0x20,0x20,0x11,0x0E,0x00,/*"p",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  q  --*/
0x00,0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x0E,0x11,0x20,0x20,0xA0,0xFF,0x80,/*"q",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  r  --*/
0x80,0x80,0x80,0x00,0x80,0x80,0x80,0x00,0x20,0x20,0x3F,0x21,0x20,0x00,0x01,0x00,/*"r",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  s  --*/
0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x33,0x24,0x24,0x24,0x24,0x19,0x00,/*"s",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  t  --*/
0x00,0x80,0x80,0xE0,0x80,0x80,0x00,0x00,0x00,0x00,0x00,0x1F,0x20,0x20,0x00,0x00,/*"t",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  u  --*/
0x80,0x80,0x00,0x00,0x00,0x80,0x80,0x00,0x00,0x1F,0x20,0x20,0x20,0x10,0x3F,0x20,/*"u",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  v  --*/
0x80,0x80,0x80,0x00,0x00,0x80,0x80,0x80,0x00,0x01,0x0E,0x30,0x08,0x06,0x01,0x00,/*"v",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  w  --*/
0x80,0x80,0x00,0x80,0x00,0x80,0x80,0x80,0x0F,0x30,0x0C,0x03,0x0C,0x30,0x0F,0x00,/*"w",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  x  --*/
0x00,0x80,0x80,0x00,0x80,0x80,0x80,0x00,0x00,0x20,0x31,0x2E,0x0E,0x31,0x20,0x00,/*"x",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  y  --*/
0x80,0x80,0x80,0x00,0x00,0x80,0x80,0x80,0x80,0x81,0x8E,0x70,0x18,0x06,0x01,0x00,/*"y",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  z  --*/
0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x21,0x30,0x2C,0x22,0x21,0x30,0x00,/*"z",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  {  --*/
0x00,0x00,0x00,0x00,0x80,0x7C,0x02,0x02,0x00,0x00,0x00,0x00,0x00,0x3F,0x40,0x40,/*"{",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  |  --*/
0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,/*"|",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  }  --*/
0x00,0x02,0x02,0x7C,0x80,0x00,0x00,0x00,0x00,0x40,0x40,0x3F,0x00,0x00,0x00,0x00,/*"}",0*/
/* (8 X 16 , 宋体 )*/

/*--  文字:  ~  --*/
0x00,0x06,0x01,0x01,0x02,0x02,0x04,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,/*"~",0*/
/* (8 X 16 , 宋体 )*/

};

//由于汉字库太大，这里做一个简单库
const ThzItem g_hzk[] = 
{
    {'科', {0x10,0x12,0x92,0x72,0xFE,0x51,0x91,0x00,0x22,0xCC,0x00,0x00,0xFF,0x00,0x00,0x00,0x04,0x02,0x01,0x00,0xFF,0x00,0x04,0x04,0x04,0x02,0x02,0x02,0xFF,0x01,0x01,0x00,/*"科",0*//* (16 X 16 , 宋体 )*/}},
    {'陆', {0xFE,0x02,0x12,0x2A,0xC6,0x88,0x88,0x88,0x88,0xFF,0x88,0x88,0x88,0x88,0x80,0x00,0xFF,0x00,0x02,0x04,0x03,0x7C,0x20,0x20,0x20,0x3F,0x20,0x20,0x20,0x7C,0x00,0x00,/*"陆",0*//* (16 X 16 , 宋体 )*/}},
    {'电', {0x00,0x00,0xF8,0x48,0x48,0x48,0x48,0xFF,0x48,0x48,0x48,0x48,0xF8,0x00,0x00,0x00,0x00,0x00,0x0F,0x04,0x04,0x04,0x04,0x3F,0x44,0x44,0x44,0x44,0x4F,0x40,0x70,0x00,/*"电",0*//* (16 X 16 , 宋体 )*/}},
    {'子', {0x00,0x00,0x02,0x02,0x02,0x02,0x02,0xE2,0x12,0x0A,0x06,0x02,0x00,0x80,0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x41,0x81,0x7F,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x00,/*"子",0*//* (16 X 16 , 宋体 )*/}},
    {'集', {0x00,0x10,0x08,0xFC,0x57,0x54,0x54,0x54,0xFD,0x56,0x54,0x54,0x54,0x00,0x00,0x00,0x00,0x44,0x44,0x25,0x25,0x15,0x0D,0xFF,0x05,0x0D,0x15,0x25,0x65,0x25,0x04,0x00,/*"集",0*/}},
    {'中', {0x00,0x00,0xFC,0x08,0x08,0x08,0x08,0xFF,0x08,0x08,0x08,0x08,0xFC,0x08,0x00,0x00,0x00,0x00,0x07,0x02,0x02,0x02,0x02,0xFF,0x02,0x02,0x02,0x02,0x07,0x00,0x00,0x00,/*"中",0*/}},
    {'器', {0x40,0x40,0x4F,0x49,0x49,0xC9,0xCF,0x70,0xC0,0xCF,0x49,0x59,0x69,0x4F,0x00,0x00,0x02,0x02,0x7E,0x45,0x45,0x44,0x7C,0x00,0x7C,0x44,0x45,0x45,0x7E,0x06,0x02,0x00,/*"器",0*/}},
    {'地', {0x10,0x10,0x10,0xFE,0x10,0x50,0x40,0xFE,0x20,0x20,0xFF,0x10,0x10,0xF8,0x10,0x00,0x20,0x20,0x10,0x1F,0x08,0x08,0x00,0x3F,0x40,0x40,0x4F,0x42,0x44,0x43,0x70,0x00,/*"地",0*/}},
    {'址', {0x20,0x20,0x20,0xFE,0x20,0x20,0x00,0xE0,0x00,0x00,0xFF,0x40,0x40,0x40,0x00,0x00,0x10,0x30,0x10,0x1F,0x08,0x28,0x20,0x3F,0x20,0x20,0x3F,0x20,0x20,0x30,0x20,0x00,/*"址",0*/}},
    {'硬', {0x02,0xC2,0xF2,0x4E,0x42,0xC2,0x00,0xFA,0x4A,0x4A,0xFE,0x4A,0x4A,0xFA,0x02,0x00,0x01,0x00,0x3F,0x88,0x88,0x5F,0x44,0x2B,0x12,0x1E,0x23,0x22,0x42,0xC3,0x40,0x00,/*"硬",0*/}},
    {'软', {0x88,0xC8,0xB8,0x8F,0xE8,0x88,0x88,0x20,0x1C,0x0B,0xE8,0x08,0x08,0x18,0x08,0x00,0x08,0x08,0x08,0x08,0xFF,0x04,0x84,0x60,0x18,0x06,0x01,0x06,0x18,0xE0,0x40,0x00,/*"软",0*/}},
    {'版', {0x00,0xFE,0x90,0x90,0x9E,0x10,0x10,0xFE,0xE2,0x22,0x22,0x21,0xE1,0x21,0x00,0x00,0x40,0x3F,0x00,0x00,0x5F,0x20,0x98,0x47,0x20,0x13,0x0C,0x1B,0x60,0xC0,0x40,0x00,/*"版",0*/}},
    {'本', {0x08,0x08,0x08,0x08,0x08,0xC8,0x38,0xFF,0x18,0x68,0x88,0x08,0x08,0x08,0x08,0x00,0x08,0x08,0x04,0x02,0x05,0x04,0x04,0x7F,0x04,0x04,0x04,0x03,0x06,0x0C,0x04,0x00,/*"本",0*/}},
    {'主', {0x00,0x00,0x10,0x10,0x10,0x10,0x11,0xF6,0x12,0x10,0x10,0x10,0x98,0x10,0x00,0x00,0x00,0x20,0x21,0x21,0x21,0x21,0x21,0x3F,0x21,0x21,0x21,0x21,0x21,0x31,0x20,0x00,/*"主",0*/}},
    {'站', {0x10,0x50,0x92,0x1C,0x10,0xF0,0x10,0x00,0x00,0x00,0xFF,0x10,0x10,0x10,0x10,0x00,0x10,0x10,0x0B,0x0C,0x0B,0x08,0x00,0x7F,0x21,0x21,0x21,0x21,0x21,0x7F,0x00,0x00,/*"站",0*/}},
    {'端', {0x50,0x91,0x16,0x10,0xF0,0x10,0x40,0x5E,0x50,0x50,0xDF,0x50,0x50,0x5E,0x40,0x00,0x10,0x13,0x10,0x0F,0x08,0x08,0xFF,0x01,0x01,0x3F,0x01,0x3F,0x41,0x81,0x7F,0x00,/*"端",0*/}},
    {'口', {0x00,0x00,0xFC,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0xFC,0x00,0x00,0x00,0x00,0x00,0x3F,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x3F,0x00,0x00,0x00,/*"口",0*/}},
    {'号', {0x40,0x40,0x40,0x5F,0xD1,0x51,0x51,0x51,0x51,0x51,0x51,0x5F,0x40,0x40,0x40,0x00,0x00,0x00,0x00,0x02,0x07,0x02,0x02,0x22,0x42,0x82,0x42,0x3E,0x00,0x00,0x00,0x00,/*"号",0*/}},
    {'网', {0x00,0xFE,0x02,0x12,0x22,0xC2,0x22,0x1A,0x22,0x42,0x82,0x72,0x22,0xFE,0x00,0x00,0x00,0x7F,0x08,0x04,0x03,0x00,0x03,0x0C,0x04,0x02,0x01,0x26,0x60,0x3F,0x00,0x00,/*"网",0*/}},
    {'掩', {0x08,0x08,0x88,0xFF,0xC8,0xA8,0xC4,0xA4,0x94,0xEF,0x94,0xA4,0xE4,0xC4,0x44,0x00,0x01,0x41,0x80,0x7F,0x00,0x00,0x0F,0x0A,0x0A,0x3F,0x4A,0x4A,0x4F,0x40,0x70,0x00,/*"掩",0*/}},
    {'码', {0x02,0x82,0xE2,0x5E,0x42,0xC2,0x00,0x02,0xFA,0x82,0x82,0x82,0xFE,0x80,0x00,0x00,0x01,0x00,0x7F,0x10,0x10,0x3F,0x00,0x04,0x04,0x04,0x44,0x84,0x40,0x3F,0x00,0x00,/*"码",0*/}},
    {'关', {0x00,0x10,0x10,0x10,0x11,0x1E,0x14,0xF0,0x10,0x18,0x17,0x12,0x18,0x10,0x00,0x00,0x01,0x81,0x41,0x21,0x11,0x09,0x05,0x03,0x05,0x09,0x31,0x61,0xC1,0x41,0x01,0x00,/*"关",0*/}},
    {'已', {0x00,0x00,0xE2,0x42,0x42,0x42,0x42,0x42,0x42,0x42,0x42,0x7E,0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x3C,0x10,0x00,/*"已",0*/}},
    {'设', {0x40,0x41,0xCE,0x04,0x00,0x80,0x40,0xBE,0x82,0x82,0x82,0xBE,0xC0,0x40,0x40,0x00,0x00,0x00,0x7F,0x20,0x90,0x80,0x40,0x43,0x2C,0x10,0x10,0x2C,0x43,0xC0,0x40,0x00,/*"设",0*/}},
    {'置', {0x00,0x20,0x2F,0xA9,0xA9,0xAF,0xE9,0xB9,0xA9,0xAF,0xA9,0xA9,0x2F,0x20,0x00,0x00,0x80,0x80,0x80,0xFF,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xFF,0x80,0x80,0x80,0x00,/*"置",0*/}},
    {'测', {0x08,0x31,0x86,0x60,0x00,0xFE,0x02,0xF2,0x02,0xFE,0x00,0xF8,0x00,0x00,0xFF,0x00,0x04,0xFC,0x03,0x00,0x80,0x47,0x30,0x0F,0x10,0x67,0x00,0x07,0x40,0x80,0x7F,0x00,/*"测",0*/}},
    {'量', {0x40,0x40,0x40,0xDF,0x55,0x55,0x55,0xD5,0x55,0x55,0x55,0xDF,0x40,0x40,0x40,0x00,0x40,0x40,0x40,0x57,0x55,0x55,0x55,0x7F,0x55,0x55,0x55,0x57,0x50,0x40,0x40,0x00,/*"量",0*/}},
    {'点', {0x00,0x00,0x00,0xE0,0x20,0x20,0x20,0x3F,0x24,0x24,0x24,0xF4,0x24,0x00,0x00,0x00,0x00,0x40,0x30,0x07,0x12,0x62,0x02,0x0A,0x12,0x62,0x02,0x0F,0x10,0x60,0x00,0x00,/*"点",0*/}},
    {'数', {0x10,0x92,0x54,0x38,0xFF,0x38,0x54,0x52,0x80,0xF0,0x1F,0x12,0x10,0xF0,0x10,0x00,0x42,0x42,0x2A,0x2E,0x13,0x1A,0x26,0x02,0x40,0x20,0x13,0x0C,0x33,0x60,0x20,0x00,/*"数",0*/}},
    {'交', {0x00,0x08,0x88,0x48,0x38,0x28,0x09,0x0E,0x0C,0x08,0x98,0x28,0x68,0x48,0x08,0x00,0x00,0x80,0x80,0x40,0x41,0x22,0x14,0x18,0x0C,0x16,0x23,0x61,0xC0,0x40,0x00,0x00,/*"交",0*/}},
    {'采', {0x00,0x84,0x84,0x94,0xA4,0x84,0x84,0xD2,0xA2,0x82,0xA2,0x9A,0x82,0x80,0x80,0x00,0x20,0x20,0x10,0x10,0x08,0x04,0x02,0xFF,0x01,0x02,0x04,0x08,0x18,0x30,0x10,0x00,/*"采",0*/}},
    {'压', {0x00,0x00,0xFE,0x02,0x42,0x42,0x42,0x42,0xFA,0x42,0x42,0x42,0x62,0x42,0x02,0x00,0x20,0x18,0x27,0x20,0x20,0x20,0x20,0x20,0x3F,0x20,0x21,0x2E,0x24,0x20,0x20,0x00,/*"压",0*/}},
    {'抄', {0x08,0x08,0x08,0xFF,0x88,0x48,0x80,0x40,0x30,0x00,0xFF,0x00,0x10,0xA0,0x60,0x00,0x02,0x42,0x81,0x7F,0x00,0x40,0x40,0x20,0x20,0x11,0x0B,0x04,0x02,0x01,0x00,0x00,/*"抄",0*/}},
    {'表', {0x00,0x40,0x44,0x54,0x54,0x54,0xD4,0xFF,0x54,0x54,0x54,0x54,0x54,0x44,0x40,0x00,0x08,0x08,0x04,0x04,0xFE,0x43,0x21,0x10,0x03,0x04,0x08,0x14,0x23,0x62,0x20,0x00,/*"表",0*/}},
    {'失', {0x00,0x40,0x20,0x18,0x16,0x10,0x10,0xFF,0x10,0x10,0x10,0x10,0x10,0x00,0x00,0x00,0x00,0x01,0x81,0x41,0x21,0x11,0x0D,0x03,0x05,0x09,0x31,0x61,0xC1,0x41,0x01,0x00,/*"失",0*/}},
    {'败', {0x00,0x00,0xFE,0x02,0xF2,0x02,0xFE,0x20,0xF8,0x17,0x12,0x10,0xF0,0x10,0x10,0x00,0x00,0x40,0x31,0x0C,0x03,0x04,0xB9,0x50,0x20,0x13,0x0C,0x13,0x60,0xC0,0x40,0x00,/*"败",0*/}},
    {'能', {0x10,0xB8,0x97,0x92,0x90,0x94,0xB8,0x10,0x00,0x7F,0x48,0x48,0x44,0x74,0x20,0x00,0x00,0xFF,0x0A,0x0A,0x4A,0x8A,0x7F,0x00,0x00,0x3F,0x44,0x44,0x42,0x72,0x20,0x00,/*"能",0*/}},
};

void InitLcd(void)
{
    memset(&g_tLcd, 0, sizeof(g_tLcd));
    
    Gpio_Config(&PinLcdCs, 1); 
    Gpio_Config(&PinLcdRes, 1); 
    Gpio_Config(&PinLcdA0, 1); 
    Gpio_Config(&PinLcdSck, 1); 
    Gpio_Config(&PinLcdSi, 1); 
    //Gpio_Config(&PinLcdBlk, 1); 
    
    Gpio_Clear(&PinLcdRes);
    Sleep(1);  //1us
    Gpio_Set(&PinLcdRes);
    Sleep(1);  //wait reset complete
    
    WriteCmd(0xA0); //ADC:NORMAL    A1镜像
	WriteCmd(0xc8); //COM63--->COM0   veverse   C0反转镜像

	WriteCmd(0xA2);	        //A2:1/9   A3:1/7 

	WriteCmd(0x2F);		    //POWER CONTROL SET
 	WriteCmd(0x26);			//0x27****VO VOLTAGE REGULATOR INTERNAL RESISTOR RATIO SET
   // inwrite(0x24);        //(1 + Rb / Ra) ratio=5.0V/////////
	WriteCmd(0x81);			//Electronic volume mode set
	WriteCmd(g_bVOP[1]);		//Electronic volume register set  //调整LCD灰度
       
   	WriteCmd(0xaf);			//display on
   	
    //Sleep(10);
    g_semLcd = NewSemaphore(1, 1);
    
    while(1)
    {
        //tinsharptest(0, 0);
        //LcmDisplayBmp(table1);
    
        ClearAll(false, false);
                       
        Rectangle(0,0,127,15,1);
        
        
        
        //WriteChchr(g_hzk[0].bDat, 1, 0, false);
        //WriteChchr(g_hzk[1].bDat, 3, 0, false);
                
        //WriteChar(hzFULL, 1, 0, false);
        //WriteChar(hzFULL, 0, 0, false);
        //WriteChar(hzNULL, 0, 0, false, 1);
        //Refresh();
        //WriteChar(hzNULL, 1, 0, false, 0);
        //Refresh();
        //WriteChar(hzNULL, 2, 0, false, -1);
        //Refresh();
        
        //line(0,0,127,0,1);
        
        //Refresh();
        
        //WriteChar(hzFULL, 2, 0, false);
        //WriteChar(hzFULL, 3, 0, false);
        
        //WriteChar2(hzFULL, 1, 1, false);
        
        //WriteChchr(hzFULL, 1, 1, false);
        
        Print("A科陆ABC\r\n",0,0,false, 1);
        Refresh();
        Print("B科陆ABC\r\n",-1,-1,false, -1);
        Sleep(500);
    }
}

/*void TrunOnBlk(bool bOn) //背光
{
    if (bOn)
        Gpio_Set(&PinLcdBlk);
    else
        Gpio_Clear(&PinLcdBlk);
}*/

void WriteCmd(BYTE bCmd)
{
    BYTE i;
    Gpio_Clear(&PinLcdCs);
    Gpio_Clear(&PinLcdA0);
    Gpio_Set(&PinLcdSck);
        
	for(i=0; i<8; i++)
	{
        Gpio_Clear(&PinLcdSck);
		if(bCmd&0x80) 
            Gpio_Set(&PinLcdSi);
		else	   
            Gpio_Clear(&PinLcdSi);
		bCmd=bCmd<<1;
		Gpio_Set(&PinLcdSck);
	}
	Gpio_Set(&PinLcdCs);
}

void WriteData(BYTE bData)
{
    BYTE i;
    Gpio_Clear(&PinLcdCs);
    Gpio_Set(&PinLcdA0);
    Gpio_Set(&PinLcdSck);
        
	for(i=0; i<8; i++)
	{
        Gpio_Clear(&PinLcdSck);
		if(bData&0x80) 
            Gpio_Set(&PinLcdSi);
		else	   
            Gpio_Clear(&PinLcdSi);	
		bData=bData<<1;
		Gpio_Set(&PinLcdSck);
	}
	Gpio_Set(&PinLcdCs);
}

//往液晶写一个数据x是列地址从0～127，y是行地址0～7,对于超出屏幕范围的数据将不显示
//AG12864E液晶是纵向液晶，一个ram字节对应于屏幕上的一竖
//WriteToMap  -1不写入内存映像，直接写到屏幕，0覆盖方式写入内存，1叠加方式写入内存
void WriteDat(BYTE bDat, BYTE x, BYTE y, int WriteToMap)
{
    if (WriteToMap >= 0)
    {
        if (x<128 && y<2)  //只缓存前面16行
        {
            if (WriteToMap == 0)
                g_tLcd.lcdmap[x][y] = bDat;
            else
                g_tLcd.lcdmap[x][y] |= bDat;   //叠加
            return;
        }
    }
    
    WriteCmd(0x40);	//Set Display Start Line = com0
    //WriteCmd(0xAF);
    
    WriteCmd(0xB0|y);	//Set Page Address
    WriteCmd(0x10|(x>>4));	//Set Column Address = 0             列的高4位
	WriteCmd(0x00|(x&0x0f));	//Colum from 1 -> 129 auto add   列的低4位
    
    WriteData(bDat);
}

void LcdOpen(void)
{
    WriteCmd(0xAF);
}

void LcdClose(void)
{
    WriteCmd(0xAE);
}

void LcdReset(void)
{
    WriteCmd(0xE2);
}

//打开背光
void LcdBlightOn(bool fOn)
{
    
}
/*
void LcdFlash(bool fOn)
{
    if (fOn)
        WriteCmd(0xAD);
    else
        WriteCmd(0xAC);
}*/

//将有内存中的内容刷新到屏幕，只缓存了前面16行
void Refresh(void)
{
    BYTE i,j;
	WriteCmd(0x40);	//Set Display Start Line = com0
    WriteCmd(0xAF);
	for(i=0;i<2;i++)
	{
		WriteCmd(0xB0|i);	//Set Page Address
		WriteCmd(0x10);	//Set Column Address = 0
	    WriteCmd(0x00);	//Colum from 1 -> 129 auto add
		for(j=0;j<128;j++)
		{
			WriteData( g_tLcd.lcdmap[j][i] );
		}
	}
}

//for test
void LcdAllPointOn(bool fOn)
{
    if (fOn)
        WriteCmd(0xA5);
    else
        WriteCmd(0xA4);
}

/*********************************/
/*写一幅132*64点陈的图片         */
/*********************************/
void tinsharptest(BYTE k, BYTE l)
{
	BYTE	i,j;
	for(i=0;i<8;i++)
	{   
		WriteCmd(0xB0|i);	//Set Page Address
		WriteCmd(0x10);
		WriteCmd(0x00);
		WriteCmd(0x40);
		for(j=0;j<128;j++)
		{
			if(j%2)	WriteData(k);
			else	WriteData(l);
		}
	}
}

void LcmDisplayBmp(const BYTE *puts )
{
    BYTE i,j;
	BYTE x=0;
	WriteCmd(0x40);	//Set Display Start Line = com0
    WriteCmd(0xAF);
	for(i=0;i<8;i++)
	{
		WriteCmd(0xB0|i);	//Set Page Address
		WriteCmd(0x10);	//Set Column Address = 0
	    WriteCmd(0x00);	//Colum from 1 -> 129 auto add
		for(j=0;j<128;j++)
		{
			WriteData( puts[x] );
			x++;
		}
	}
}

//往xy位置写一个英文字符
//x=0~15,y=0~3
//dat为8*16字模
//WriteToMap 1-写入内存映像区，0-直接写入屏幕
//todo:  over  可以增加叠加功能
void WriteChar(const BYTE *dat, BYTE x, BYTE y, bool reverse, int WriteToMap)
{
    BYTE i,j;
    BYTE b = 0;
    //BYTE bx = 0;
    if ((x > 15) || (y > 3))
        return;
    
    //if ((x&0x01) == 0x01)
    //    bx = 8;
    //WriteCmd(0x40);	//Set Display Start Line = com0
    //WriteCmd(0xAF);    
    for(i=0; i<2; i++)
	{        
		//WriteCmd(0xB0|(i+(y<<1)));	//Set Page Address
		//WriteCmd(0x10+(x>>1));	//Set Column Address = 0
	    //WriteCmd(0x00 + bx);	//Colum from 1 -> 129 auto add
		for(j=0; j<8; j++)
		{
			if (!reverse)
    			//WriteData( dat[b] );
                WriteDat(dat[b], x*8+j, y*2+i, WriteToMap);
            else
                //WriteData( ~dat[b] );
                WriteDat(~dat[b], x*8+j, y*2+i, WriteToMap);
			b++;
		}
	}
}

//往xy位置写一个英文字符
//x=0~15,y=0~7
//dat为8*8的字模
void WriteChar2(const BYTE *dat, BYTE x, BYTE y, bool reverse, int WriteToMap)
{
    BYTE j;
    BYTE b = 0;
    //BYTE bx = 0;
    if ((x > 15) || (y > 7))
        return;
    //if ((x&0x01) == 0x01)
    //    bx = 8;
    //WriteCmd(0x40);	//Set Display Start Line = com0
    //WriteCmd(0xAF);    
	//WriteCmd(0xB0|y);	//Set Page Address
	//WriteCmd(0x10+(x>>1));	//Set Column Address = 0
	//WriteCmd(0x00 + bx);	//Colum from 1 -> 129 auto add
	for(j=0; j<8; j++)
	{
		if (!reverse)
    		//WriteData( dat[b] );
            WriteDat(dat[b], x*8+j, y, WriteToMap);
        else
            //WriteData( ~dat[b] );
            WriteDat(~dat[b], x*8+j, y, WriteToMap);
		b++;
    }
}

//显示汉字
//x=0~14, y=0~3
//dat为16*16字模
void WriteChchr(const BYTE *dat, BYTE x, BYTE y, bool reverse, int WriteToMap)
{
    BYTE i,j;
    BYTE b = 0;
    //BYTE bx = 0;
    if ((x>14) || (y>3))
        return;
    //if ((x&0x01) == 0x01)
    //    bx = 8;
    //WriteCmd(0x40);	//Set Display Start Line = com0
    //WriteCmd(0xAF);
    for(i=0; i<2; i++)
	{        
		//WriteCmd(0xB0|(i+(y<<1)));	//Set Page Address
		//WriteCmd(0x10+(x>>1));	//Set Column Address = 0         //列地址高4位
	    //WriteCmd(0x00 + bx);	//Colum from 1 -> 129 auto add   //列地址低4位
		for(j=0; j<16; j++)
		{
            if (!reverse)
    			//WriteData( dat[b] );
                WriteDat(dat[b], x*8+j, y*2+i, WriteToMap);
            else
                //WriteData( ~dat[b] );
                WriteDat(~dat[b], x*8+j, y*2+i, WriteToMap);
			b++;
		}
	}
}

void ClearAll(bool reverse, bool map)
{
    BYTE i,j;
    BYTE bDat;
    bDat = reverse?0xff:0x00;
    if (map)
    {
        memset(g_tLcd.lcdmap, bDat, sizeof(g_tLcd.lcdmap));
        //return;
    }
	WriteCmd(0x40);	//Set Display Start Line = com0
    WriteCmd(0xAF);
	for(i=0;i<8;i++)
	{
		WriteCmd(0xB0|i);	//Set Page Address
		WriteCmd(0x10);	//Set Column Address = 0
	    WriteCmd(0x00);	//Colum from 1 -> 129 auto add
		for(j=0;j<128;j++)
		{
			WriteData( bDat );
		}
	}
}

//x是列地址从0～127，y是行地址0～7,对于超出屏幕范围的数据将不显示
//AG12864E液晶是纵向液晶，清除一个ram字节对应于屏幕上的一竖
void Clear(BYTE x, BYTE y, bool reverse, bool map)
{
    int WriteToMap;        
    WriteToMap = map?0:-1;    
    WriteDat(reverse?0xff:0x00, x, y, WriteToMap);
}

//清一个字符
//x=0~15,y=0~3
void ClearAChr(BYTE x, BYTE y, bool reverse, bool map)
{
    int WriteToMap;        
    WriteToMap = map?0:-1;    
    WriteChar(hzNULL, x, y, reverse, WriteToMap);    
}

//清一个汉字
//x=0~14, y=0~3
void ClearAChChr(BYTE x, BYTE y, bool reverse, bool map)
{
    int WriteToMap;        
    WriteToMap = map?0:-1;    
    WriteChchr(hzNULL, x, y, reverse, WriteToMap);  
}

//清除一行, 汉字行
void ClearLine(BYTE line, bool reverse, bool map)
{
    BYTE i,j;
    BYTE bDat;
    if (line > 3)
        return;
    bDat = reverse?0xff:0x00;
    if ((map) && (line==0))
    {
        for (i=0; i<2; i++)
        {
            for (j=0; j<128; j++)
                g_tLcd.lcdmap[j][i] = bDat;
        }
        return;
    }
    WriteCmd(0x40);	//Set Display Start Line = com0
    WriteCmd(0xAF);
	for(i=0;i<2;i++)
	{
		WriteCmd(0xB0|(line+i));	//Set Page Address
		WriteCmd(0x10);	//Set Column Address = 0
	    WriteCmd(0x00);	//Colum from 1 -> 129 auto add
		for(j=0;j<128;j++)
		{
			WriteData( bDat );
		}
	}
}

//取汉字在字模库的指针
const BYTE *GetHzPtr(WORD wAscii)
{
    WORD i;
    for (i=0; i<sizeof(g_hzk)/sizeof(ThzItem); i++)
    {
        if (wAscii == g_hzk[i].wAscii)
            return g_hzk[i].bDat;
    }
    
    return NULL;//不支持的汉字
}

//此函数用于在液晶的指定位置打印字符
//由于汉字的内码与区位码有一定的关系，
//所以，只要通过内码就可以得到区位码，从而也就得到了汉字的字模。  
//设一个汉字的内码为ddff，则此汉字的区码为dd-161;位码为ff-161；
//该汉字字模的第一个字节在字库中的位置是(94×区码+位码)×32。
//这时只要连续的读出32个字节，就可以得到该汉字的字模。
//假定全字库的首地址为hzk[];
//x，y以英文字符计算位置，x＝0～15，y＝0～3
//可以使用\n来回车换行,使用\r来使这一行居中显示并用空格填充前面的空格
//可以使用\n\n来填充空格到行未并换行，可以使用\r\r来使一行居右显示并用空格填充前面的空白
//可以使用\t来填充行首
void Print(char *str,short x,short y,bool reverse, int WriteToMap)//缺省参数在当前位置打印
{
	short len,i;
	unsigned char *p,*ustr;
	len=strlen(str);

	ustr=(unsigned char *)str;
	if(x==-1 && y!=-1)
	{
		x=g_tLcd.xpos;
	}
	else if(x!=-1 && y==-1)
	{
		y=g_tLcd.ypos;
	}
	else if(x==-1 && y==-1)
	{
		x=g_tLcd.xpos,y=g_tLcd.ypos;
	}
	
	g_tLcd.xpos=x,g_tLcd.ypos=y;
	
	for(i=0;i<len;i++)
	{
		if((ustr[i]) >= 128)		//最高位为1
		{
			if(ustr[i] >= 128)		//最高位为1，是汉字
			{
				if(x>14)			//本行写不下汉字，则自动换行
				{
					x=0;
					y+=1;
                    if (y > 3)//又回到屏开头
                        y = 0;
				}

				//p=hzk16;
				//p+=(94*(ustr[i]-161)+(ustr[i+1]-161))*32;//得到当前汉字在字库中的首地址
                p = (BYTE *)GetHzPtr(ustr[i+1]|(ustr[i]<<8));
                if (p == NULL)
                    WriteChchr(hzNULL,x,y,reverse,WriteToMap);
                else
				    WriteChchr(p,x,y,reverse,WriteToMap);
				
				i++;
				x+=2;	//写入一个汉字光标右移两位（汉字）
				g_tLcd.xpos=x,g_tLcd.ypos=y;
			}
			//对于ASC码超过128的字符自动舍去
						
		}
		else if(*(str+i)<32)//对于ASC码小过32的不用的字符自动舍去
		{				
			if(*(str+i)==0x0a)			//是换行
			{
				if(*(str+i+1)==0x0a)	//填充行尾
				{		
					while(x<16)
					{
						WriteChar(&chr[0],x,y,false,WriteToMap);
						x++;
					}
					i++;
				}
				x=0;
				y++;
                if (y > 3)//又回到屏开头
                    y = 0;
				g_tLcd.xpos=x,g_tLcd.ypos=y;
				continue;
			}
			
			if(*(str+i)==0x09)//填充行首
			{
				char ss=0;
				while(ss<x)
				{
					WriteChar(&chr[0],ss,y,false,WriteToMap);
					ss++;
				}
			}			
			
			if(*(str+i)==0x0d)			//接下来的字符居中显示
			{
				unsigned char k=0,t=0;
				while((*(str+i+1+t)!='\0') && (*(str+i+1+t)!=0x0a) )
				{
					if(*(str+i+1+t)!=0x09 && *(str+i+1+t)!=0x0d)
						k++;
					t++;																
				}
				
				if(*(str+i+1)==0x0d)	//接下来的字符居右边显示
				{
					i++;
					if(k>=(16-g_tLcd.xpos))
					{
						continue;
					}
					else
					{						
						x=g_tLcd.xpos+(16-g_tLcd.xpos-k);
						for(char j=g_tLcd.xpos;j<x;j++)
							WriteChar(&chr[0],j,y,false,WriteToMap);
						g_tLcd.xpos=x;						
						continue;
					}
				}
				else	//居中显示
				{
					if(k>16)
						continue;
					x=(16-k)/2;
					for(char j=g_tLcd.xpos;j<x;j++)
						WriteChar(&chr[0],j,y,false,WriteToMap);
					g_tLcd.xpos=x,g_tLcd.ypos=y;
				}
				continue;
			}
		}
		else	//是英文字符
		{			
			if(x>15)	//本行写不下，则自动换行
			{
				x=0;
				y++;
                if (y > 3)//又回到屏开头
                    y = 0;
			}
			p =  (BYTE *)chr;
			p += (*(str+i)-32)*16; 	//得到字符在字库中的首地址
			WriteChar(p,x,y,reverse,WriteToMap);
			x++;	//写入一个字符光标右移1位
			g_tLcd.xpos=x,g_tLcd.ypos=y;
		}		
	}
}

void Show(short x, short y, bool reverse, const char *fmt, ...)
{
    BYTE bBuf[128];
    va_list varg;
    
    //TODO:没有信号量立刻返回是不是可能造成当前待输出的调试信息
    //没有机会输出  xiao
    WaitSemaphore(g_semLcd, 0);   
    
    memset(bBuf, 0, sizeof(bBuf));
    va_start(varg, fmt);
    vsnprintf((char*)bBuf, sizeof(bBuf), fmt, varg);
    va_end(varg);
        
    //CommWrite(COMM_DEBUG, bBuf, strlen((const char *)bBuf), 500);//9600波特率每秒可以打印800字节
    Print((char *)bBuf, x, y, reverse, 0); //直接写到屏幕      
    
    //ClearAll(false, false);

    Refresh();
    
    SignalSemaphore(g_semLcd); 
}

//设置x位置函数
bool Setx(BYTE x)
{
	g_tLcd.xp=x;
	return true;
}

//设置y位置函数，以点为单位设置作图位置
bool Sety(BYTE y)
{
	g_tLcd.yp=y;
	return true;
}

//设置xy坐标函数，以点为单位设置作图位置
bool Setxy(BYTE x,BYTE y)
{
	g_tLcd.xp=x,g_tLcd.yp=y;
	return true;
}

//打点函数,颜色只能是0、1两种,大于1的数按1处理
//只有前面16行支持画图
bool Point(BYTE x,BYTE y,BYTE color)//画图也是叠加方式
{
	unsigned char i,j;
	unsigned char dat;
	Setxy(x,y);
	
	if(color>1)
		color=1;
	if(x>127 || y>15)
		return true;	
	j = y%8;
	i = y/8;
			
	dat=g_tLcd.lcdmap[x][i];
	
	if(color==1)
	{
		color<<=j;
		dat |= color;
	}
	else
	{
		dat &=(~(0x01<<j));
	}
	g_tLcd.lcdmap[x][i]=dat;
	
	WriteDat(dat,x,i,-1);
	
	return true;
}

//画线函数,可以画任意直线
bool Line(BYTE x1,BYTE y1,BYTE x2,BYTE y2,BYTE color)
{
	BYTE i;
	float slope,x,y;
	if(x1==x2)//垂直画线
	{
		if(y1<=y2)
		{
			for(i=y1;i<=y2;i++)
				Point(x1,i,color);
		}
		else
		{
			for(i=y2;i<=y1;i++)
				Point(x1,i,color);
		}
		return true;
	}
	else if(y1==y2)//画水平线
	{
		if(x1<=x2)
		{
			for(i=x1;i<=x2;i++)
				Point(i,y1,color);
		}
		else
		{
			for(i=x2;i<=x1;i++)
				Point(i,y1,color);
		}
		return true;
	}
	else
	{
		slope=((float)(y2-y1))/((float)(x2-x1));	//求斜率
		if((slope<=1) && (slope>=-1))
		{
			for(x=x1;x<=x2;x++)
			{
				y=x*slope;
				Point((BYTE)x,(BYTE)y,color);
			}
		}
		else
		{
			slope=1/slope;
			for(y=y1;y<=y2;y++)
			{
				x=y*slope;
				Point((BYTE)x,(BYTE)y,color);
			}
		}
	}
	
	return true;
}

//画矩形函数，为作图提供基础
void Rectangle(BYTE x1,BYTE y1,BYTE x2,BYTE y2,BYTE color)
{
	if(color>1)
		color=1;
		
	Line(x1,y1,x1,y2,color);
	Line(x1,y2,x2,y2,color);
	Line(x2,y2,x2,y1,color);
	Line(x2,y1,x1,y1,color);
	
}

//画圆函数
void Circle(BYTE x,BYTE y,BYTE r,BYTE color)
{
	float x1,y1,Pi=3.14159;
	short i;
	for(i=1;i<=360;)
	{
		x1=x+r*cos(((float)i)/360*2*Pi);
		y1=y-r*sin(((float)i)/360*2*Pi);
		if(i>85 && i<95)
			Point((BYTE)x1,(BYTE)y1-1,color);
		else if(i>175 && i<185)
			Point((BYTE)x1-1,(BYTE)y1,color);
		else if(i>265 && i<275)
			Point((BYTE)x1,(BYTE)y1+1,color);
		else if(i<5 || i>355)
			Point((BYTE)x1+1,(BYTE)y1,color);
		else
			Point((BYTE)x1,(BYTE)y1,color);
		
		if(r<=5)
			i+=10;
		else if(r<=10)
			i+=6;
		else if(r<=15)
			i+=4;
		else if(r<=20)
			i+=2;
		else
			i++;
	}	
}

//Drawbmp
//x-0~127, y-0~1
void DrawBitmap(const BYTE *pbBitmap, BYTE x, BYTE y, BYTE usXlen, BYTE usYlen, bool fRefresh)//绘图
{
    BYTE i,j;
    BYTE b = 0;    
    if ((x>127) || (y>1) || (x+usXlen)>127 || (y+usYlen)>1)
        return;
    for(i=y; i<usYlen; i++)
	{        
		for(j=x; j<usXlen; j++)
		{            
            WriteDat(pbBitmap[b], j, i, 1);
			b++;
		}
	}
    if (fRefresh)
    {
        Refresh();
    }
}
#endif